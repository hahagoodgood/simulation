# Smart Fab 시뮬레이션 최적화 프로젝트

## 프로젝트 개요

2024학년도 한국 대학생 컴퓨터 시뮬레이션 경진대회 참가 프로젝트로, 반도체 파운드리 제조 공정의 생산성을 극대화하기 위한 Smart Fab 시뮬레이션 최적화 연구입니다.

- 팀명: 모죽
- 소속: 인하공업전문대학 컴퓨터정보공학과
- 지도교수: 조규철
- 개발 기간: 2024년 8월

## 팀원

| 이름 | 학번 | 이메일 |
|------|------|--------|
| 김동혁 | 202044005 | dh95229505@gmail.com |
| 안승현 | 201844017 | rs_next@naver.com |
| 김민호 | 202244016 | btlime3@naver.com |

## 프로젝트 목표

파운드리 반도체 제조 공정에서 다음 요소들을 최적화하여 생산성을 극대화합니다.

- 공정 설비 배치 (Layout Optimization)
- AGV(Automated Guided Vehicle) 운송 수단 개수
- 동시 공정 가능 FOUP(Front Opening Unified Pod) 개수
- 운송 동선 최적화

## 시뮬레이션 환경

### 제품 사양

- 제품 종류: A형, B형 (1:1 비율 생산)
- 공정 단계: 산화 → 노광 → 식각 → 증착 → 계측(50% 확률)
- 공정 반복: 각 공정 2회 반복 수행

### 설비 구성

| 공정 | 설비 수 | 비고 |
|------|---------|------|
| 산화 | 4대 | - |
| 노광 | 13대 | 최대 비중 공정 |
| 식각 | 7대 | - |
| 증착 | 8대 | - |
| 계측 | 2대 | 50% 확률 진행 |
| Stocker | 2대 | 각 20개 FOUP 수용 |

## 기술 스택

- 시뮬레이션 툴: AnyLogic
- 라이브러리: Material Handling Library
- 운송 시스템: AGV (Automated Guided Vehicle)

## 주요 연구 결과

### 설비 배치 최적화

4가지 레이아웃 시나리오를 비교 분석하였습니다.

#### 1. 공정 순서별 배치

공정 순서대로 설비를 나열한 기본 레이아웃입니다.

![공정 순서별 배치](https://github.com/user-attachments/assets/9b329995-4d53-4b16-874d-e6decc14873b)

#### 2. 1:1 비율 배치

공정별로 설비를 1:1의 비율에 맞게 공정 순으로 배치한 레이아웃입니다.

![1:1 비율 배치](https://github.com/user-attachments/assets/d9e21d43-d4e6-4e31-bcd3-42ab20a4230a)

#### 3. B형 공정 비율 고려

B형 제품의 공정 시간 비율을 반영하여 배치한 레이아웃입니다.

![B형 비율 배치](https://github.com/user-attachments/assets/005a1f7f-03e6-4083-94f8-b6fbd047444b)

#### 4. 동선 최적화 배치 (최적안)

가장 큰 비중을 차지하는 노광 설비를 중앙에 배치하고, 산화와 증착 설비를 양옆에 두며, 식각 설비를 노광 인근에 위치시켜 동선을 최소화한 레이아웃입니다.

![동선 최적화 배치](https://github.com/user-attachments/assets/6ba72b23-3106-4d3e-93c8-0d78934a1a03)

#### 레이아웃 비교 결과

동선 최적화 배치가 공정 순서 배치 대비 약 20.6% 생산량 향상을 달성했습니다.

### AGV 최적 운영

- 최적 대수: 2대
- AGV 16대 이상 시 병목 현상 발생
- 평균 유휴 AGV 1대 이상 시 생산성 저하
- AGV 간 최소 거리 1m 유지로 교착 상태 방지

### FOUP 수량 최적화

- 최적 범위: 최대 공정 가능 개수의 95~90%
- 교착 상태(Deadlock) 회피를 위한 수량 제한
- 최대 수용 가능: 72개 (설비 34개 + Stocker 40개 - 계측 2개)
- 최적 운영 개수: 약 68~73개

## 시뮬레이션 파라미터

### AGV 사양

| 항목 | 값 |
|------|-----|
| 길이 | 1m |
| 높이 | 1m |
| 장애물 감지 거리 | 1m |
| 속도 | 60m/s (시뮬레이션 가속) |
| 최적 운영 대수 | 2대 |

### 경로 설계

![AGV 경로 설계](https://github.com/user-attachments/assets/169ebe8b-cf69-4075-9124-c47e70dd1478)

- 단방향 통행로 설계
- 교착 상태 방지를 위한 구간별 AGV 대수 제한 (최대 3대)
- 4개 AGV Station 분산 배치
- 중앙 통로 5m, 외각 통로 2m

![AGV 교착 상태 예시](https://github.com/user-attachments/assets/a9b58dbd-8492-4e35-a5ce-a82561de94ac)

## 연구 방법론

### AS-IS 문제 분석

#### 기본 팹 레이아웃

제시된 팹의 기본 레이아웃은 다음과 같습니다.

![기본 팹 레이아웃](https://github.com/user-attachments/assets/972d03a2-abbf-4f40-81cb-e4c2ecc5c456)

#### 1. 운송 수단 선정

AMR과 AGV를 비교하여 AGV를 선택하였습니다.

**AMR의 문제점**

![AMR 병목 현상](https://github.com/user-attachments/assets/c2afd2c6-659e-4712-b18f-141d60a292b4)

중앙통로 5m, 외각 통로 2m의 좁은 구조에서 여러 대의 이동 수단이 이동할 경우 병목 현상 유발. 경로 통제가 어려움.

**AGV의 장점**

정해진 경로만 이동하여 방향과 통행 가능 대수 통제가 수월함.

#### 2. 설비 비율 최적화

공정 시간 비율을 분석하여 설비를 분배하였습니다.

**B형 제품 공정 시간 분석**

| 공정 | 시간(분) | 비율 | 계수 |
|------|----------|------|------|
| 산화 | 5 | 3.3% | 1.2 |
| 노광 | 40 | 26.7% | 9.6 |
| 식각 | 25 | 16.7% | 6.0 |
| 증착 | 25 | 16.7% | 6.0 |
| 계측(50%) | 5 | 3.3% | 1.2 |

계측 공정 50% 확률과 2회 반복을 고려한 최종 설비 배분은 다음과 같습니다.

| 공정 | 최종 계수 |
|------|-----------|
| 산화 | 4대 |
| 노광 | 13대 |
| 식각 | 8대 |
| 증착 | 9대 |
| 계측(50%) | 2대 |

#### 3. 교착 상태 해결

회피(Avoidance) 전략을 적용하였습니다.

- FOUP 수량 제한
- Stocker 2대 활용 (각 20개 수용)
- 환형 대기 상태 방지

### TO-BE 프로세스

```
1. 제품 유형 결정 (A/B, 50% 확률)
2. 안정 상태 확인 (FOUP 수량 체크)
3. 산화 공정
   └─ 유휴 설비 확인
   └─ 유휴 설비 없고 1번째 공정 아니면 Stocker 대기
4. 노광 공정
   └─ 유휴 설비 확인
   └─ 유휴 설비 없으면 Stocker 대기
5. 식각 공정
6. 증착 공정
7. 계측 공정 (50% 확률)
8. 2번째 공정 확인
   └─ 미완료: 3번으로 반복
   └─ 완료: 종료
```

## 성과

### 생산성 향상

- 동선 최적화: 기존 대비 20.6% 생산량 증가
- 병목 현상 완화: AGV 대수 최적화로 유휴 시간 최소화
- 공정 흐름 개선: FOUP 수량 조절로 원활한 공정 진행

### 주요 발견사항

1. 노광 설비의 중요성: 전체 공정에서 가장 큰 비중 (약 35%)
2. 동선 최소화의 효과: 설비 배치만으로 20% 이상 생산성 향상
3. 적정 여유 용량: 최대 용량의 5~10% 여유 유지 시 최적 성능

### 실험 결과 데이터

#### Layout별 AGV 개수에 따른 생산량 (FOUP 73개 기준)

| AGV 개수 | 공정 순서 | 1:1 비율 | B비율 | 동선고려 |
|----------|-----------|----------|-------|----------|
| 2대 | 817 | 866 | 563 | 986 |
| 3대 | 835 | - | 698 | - |
| 10대 | 838 | - | - | - |
| 16대 | 824 | - | - | - |

#### FOUP 개수에 따른 성능 (AGV 2대 기준)

| FOUP 개수 | 평균 유휴율(%) | 생산량 |
|-----------|----------------|--------|
| 75 | 93.8 | 989 |
| 74 | 94.2 | 984 |
| 73 | 94.1 | 986 |
| 72 | 94.1 | 968 |
| 70 | 94.1 | 1005 |
| 60 | 94.3 | 970 |
| 50 | 93.7 | 972 |
| 40 | 93.6 | 978 |
| 30 | 93.4 | 975 |
| 20 | 79.2 | 869 |
| 10 | 25 | 372 |

## 시뮬레이션 실행 환경

- 시뮬레이션 시간: 5시간 (300분)
- FOUP 생성: 연속 투입 방식
- 공정 시간: A형/B형 별도 설정
- 속도 조정: 분 단위를 초 단위로 변환 (데이터 수집량 증대)

## 결론

본 연구를 통해 다음과 같은 결론을 도출하였습니다.

1. 동선의 낭비 감소: 설비 배치 최적화로 공정 순서 배치 대비 20.6% 생산량 향상

2. AGV 병목현상 완화: 모든 레이아웃에서 AGV 16대 이상 시 유휴 AGV 발생. 최적 운영 대수는 2대로 확인

3. FOUP 수량 조절: 최대 공정 가능 개수의 95~90% 수준에서 최대 생산량 달성

본 프로젝트는 반도체 제조 공정에서 설비 배치, 운송 시스템, 재공품 수량 간의 상관관계를 규명하고, 실제 제조 환경에 적용 가능한 최적화 방안을 제시했습니다.

## 참고 자료

본 프로젝트는 2024학년도 한국 대학생 컴퓨터 시뮬레이션 경진대회 결과 보고서를 기반으로 합니다.

## 라이선스

이 프로젝트는 학술 연구 목적으로 개발되었습니다.

---

연락처: 인하공업전문대학 컴퓨터정보공학과  
지도교수: 조규철